# Laravel 从学徒到工匠阅读笔记

## 依赖注入篇

 Laravel 框架的基石是一个功能强大的 IoC 容器（控制反转容器）或者服务容器，通过 IoC 容器可以帮助我们更方便地管理类依赖，而且 Laravel 提供了一个功能强大的 IoC 容器。这个 IoC 容器在 Laravel 中被称作服务容器，是整个 Laravel 框架最核心的部分，在它的调度下，框架各个组件可以很好的组合在一起工作。实际上，Laravel 的Application 类就是一个继承自 Container 的容器类，它就是整个 Laravel 应用的服务容器。可以通过App门面来访问服务容器，或者 app()。


 ## 反射自动解析类的依赖

反射是一种在运行时检查类和方法的能力，比如，PHP 的 ReflectionClass 类可以动态检查给定类的所有方法，PHP 函数 method_exists 从某种意义上说也是一种反射（关于反射的更多细节可以查看 [PHP 反射文档](http://php.net/manual/zh/book.reflection.php)）。

容器在底层只有一个类Illuminate\Container\Container，强烈建议阅读源码。

## 接口即契约

接口有助于开发应用所提供的、已定义好的功能「框架」。 在组件的设计阶段，团队里使用接口进行讨论是很方便的，例如，定义一个 BillingNotifierInterface 接口，然后讨论它提供哪些方法。在编写任何实现代码前，最好先通过接口讨论达成一致，这是构建一套好 API 的必要前提！

## 服务提供者

```
register Vs. boot 方法：永远不要在 register 方法里面使用任何服务。该方法只是用来将对象绑定到服务容器的地方。所有关于绑定类的解析、交互都要在 boot 方法（服务提供者的另一个方法）里进行。

在绑定接口实现类时使用 bind 还是 singleton 方法可以这样来考虑：如果在一次请求生命周期中该类只需要有一个实例，就使用 singleton；否则就使用 bind。
```

## 应用架构

大部分的「处理器」可以被当作传输层组件。也就是说，它们通过队列处理器、被触发的事件、或者外部发来的请求等接收调用。这样一来，我们可以将这些处理器理解为控制器，同样需要避免在它们内部堆积太多具体的业务逻辑实现。要始终明确一个类的职责边界，该知道什么，不该知道什么，并适时进行调整和优化。避免在传输层（如处理器）中直接编写应用的业务逻辑代码。

## 框架扩展

